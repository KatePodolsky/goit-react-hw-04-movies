(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[4],{57:function(t,e,n){"use strict";var r=n(62),a=n.n(r),c="https://api.themoviedb.org/3",o="14e8b908038de65f12cfd2170a086156";e.a={fetchTrendingMovies:function(){return a.a.get("".concat(c,"/trending/all/day?api_key=").concat(o)).then((function(t){return t.data.results}))},fetchMovieByQuery:function(t){return a.a.get("".concat(c,"/search/movie?query=").concat(t,"&api_key=").concat(o)).then((function(t){return t.data.results}))},fetchMovieDetails:function(t){return a.a.get("".concat(c,"/movie/").concat(t,"?api_key=").concat(o))},fetchMovieCastDetails:function(t){return a.a.get("".concat(c,"/movie/").concat(t,"/credits?api_key=").concat(o,"&language=en-US"))},fetchMovieReviews:function(t){return a.a.get("".concat(c,"/movie/").concat(t,"/reviews?api_key=").concat(o,"&language=en-US"))}}},63:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));n(0);var r=n(9),a=n(3),c=n(1),o=Object(a.f)((function(t){var e=t.movies,n=t.location;return Object(c.jsx)("ul",{children:e.map((function(t){var e=t.id,a=t.title,o=t.name;return Object(c.jsx)("li",{children:Object(c.jsx)(r.b,{to:{pathname:"/movies/".concat(e),state:{from:n}},children:a||o})},e)}))})}))},90:function(t,e,n){},95:function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"===typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.r(e);var c=n(58),o=n(59),i=n(61),u=n(60),s=n(0),h=n(90),l=n.n(h),f=n(1),m=function(t){Object(i.a)(n,t);var e=Object(u.a)(n);function n(){var t;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))).state={query:""},t.handleChange=function(e){t.setState({query:e.currentTarget.value})},t.handleSubmit=function(e){e.preventDefault(),t.props.onSubmit(t.state.query),t.setState({query:""})},t}return Object(o.a)(n,[{key:"render",value:function(){var t=this.state.query;return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("form",{className:l.a.SearchForm,onSubmit:this.handleSubmit,children:[Object(f.jsx)("input",{className:l.a.SearchFormInput,value:t,type:"text",autoComplete:"off",autoFocus:!0,onChange:this.handleChange}),Object(f.jsx)("button",{type:"submit",className:l.a.SearchFormButton,children:Object(f.jsx)("span",{className:l.a.SearchFormButtonLabel,children:"Search"})})]})})}}]),n}(s.Component),y=n(63),v=n(57),p=n(16),b=function(t){Object(i.a)(n,t);var e=Object(u.a)(n);function n(){var t;Object(c.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).state={movies:[],searchQuery:"",isLoading:!1,error:null},t.onChangeQuery=function(e){var n=t.props,r=n.history,a=n.location;r.push({pathname:a.pathname,search:"query=".concat(t.state.searchQuery.trim())}),t.setState({searchQuery:e,isLoading:!1,error:null})},t.fetchMovies=function(){var e=t.state.searchQuery;t.setState({isLoading:!0}),v.a.fetchMovieByQuery(e).then((function(e){t.setState((function(t){return{movies:[].concat(a(t.movies),a(e))}}))})).catch((function(e){return t.setState({error:e})})).finally((function(){return t.setState({isLoading:!1})}))},t}return Object(o.a)(n,[{key:"componentDidUpdate",value:function(t,e){e.searchQuery!==this.state.searchQuery&&this.fetchMovies()}},{key:"render",value:function(){var t=this.state,e=t.movies,n=t.isLoading,r=t.error;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(m,{onSubmit:this.onChangeQuery}),r&&Object(f.jsx)("p",{children:"There was a problem with your request! Please, try again"}),Object(f.jsx)(y.a,{movies:e}),n&&Object(f.jsx)(p.a,{})]})}}]),n}(s.Component);e.default=b}}]);
//# sourceMappingURL=movies-view.b015ee9e.chunk.js.map